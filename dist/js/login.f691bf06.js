(function(e){function t(t){for(var a,s,l=t[0],i=t[1],c=t[2],f=0,m=[];f<l.length;f++)s=l[f],o[s]&&m.push(o[s][0]),o[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,l=1;l<r.length;l++){var i=r[l];0!==o[i]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={login:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;n.push([1,"chunk-vendors"]),r()})({1:function(e,t,r){e.exports=r("9eec")},"3b53":function(e,t,r){},"3dc9":function(e,t,r){"use strict";var a=r("a4b1"),o=r.n(a);o.a},4430:function(e,t,r){"use strict";var a,o,n="http://localhost:8080/api/law",s="/login.html",l="/index.html",i={login_location:s,index_location:l,host:n},c=i,u=r("17cc"),f=Object(u["a"])(c,a,o,!1,null,null,null);t["a"]=f.exports},"481b":function(e,t,r){},"6ad1d":function(e,t,r){"use strict";var a=r("a814"),o=r.n(a);o.a},"9dfa":function(e,t,r){"use strict";var a=r("481b"),o=r.n(a);o.a},"9eec":function(e,t,r){"use strict";r.r(t);r("5c07"),r("53da"),r("2556"),r("d0f8");var a=r("fd9b"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"clear",attrs:{id:"main"}},[e._m(0),r("div",{staticClass:"box",attrs:{id:"right"}},[r("router-view")],1)])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box",attrs:{id:"left"}},[r("div",{attrs:{id:"left_title"}},[e._v("法学案例 | 检索系统")])])}],s={},l=s,i=r("17cc"),c=Object(i["a"])(l,o,n,!1,null,"89a5fc58",null),u=c.exports,f=r("081a"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"right_title"}},[e._v("用户登录")]),r("div",{attrs:{id:"right_subtitle"}},[e._v("USER LOGIN")]),r("el-form",{ref:"loginform",staticClass:"demo-ruleForm",attrs:{model:e.loginform,"status-icon":"",rules:e.rules,"hide-required-asterisk":"","label-position":"top"}},[r("el-form-item",{attrs:{label:"学号/职工号",prop:"account"}},[r("div",{staticClass:"show_name"},[e._v(e._s(e.name))]),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.loginform.account,callback:function(t){e.$set(e.loginform,"account",e._n(t))},expression:"loginform.account"}})],1),r("el-form-item",{ref:"password",attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入"},model:{value:e.loginform.pass,callback:function(t){e.$set(e.loginform,"pass",t)},expression:"loginform.pass"}})],1),r("el-form-item",{attrs:{label:"选择登录身份"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.loginform.identity,callback:function(t){e.$set(e.loginform,"identity",t)},expression:"loginform.identity"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{staticClass:"btn_box"},[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginform")}}},[e._v("登录")]),r("el-button",{staticClass:"btn",on:{click:function(t){return e.resetForm("loginform")}}},[e._v("重置")])],1)],1),r("router-link",{staticClass:"to_register",attrs:{to:"/register"}},[e._v("点击注册账号")])],1)},d=[],p=(r("3a23"),r("5cb2")),g=r.n(p),b={data:function(){var e=this,t=function(t,r,a){if(e.name="",!r)return a(new Error("学号/工号不能为空"));setTimeout(function(){g()(r)?e.axios.get("getName?account="+r).then(function(t){1==t.data.code?(e.name=t.data.data.name,a()):a(new Error("用户不存在"))}).catch(function(t){console.log(t),e.$message("暂时无法连接服务器，请稍候重试。")}):a(new Error("请输入数字值"))},1e3)};return{loginform:{account:"",pass:"",identity:"student"},rules:{account:[{validator:t,trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:["blur","change"]}]},options:[{value:"student",label:"学生"},{value:"teacher",label:"教师"},{value:"admin",label:"管理员"}],name:""}},mounted:function(){localStorage.clear()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.axios.post("login",{account:t.loginform.account,password:t.loginform.pass,identity:t.loginform.identity}).then(function(e){1==e.data.code?(localStorage.setItem("token",e.data.data.token),window.location.href="/index.html"):t.$refs.password.error="请检查密码、帐号以及登录身份"}).catch(function(e){console.log(e),t.$refs.password.error="服务器错误"})})},resetForm:function(e){this.name="",this.$refs[e].resetFields()}}},v=b,h=(r("9dfa"),Object(i["a"])(v,m,d,!1,null,"e6dd0dfa",null)),_=h.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reg"},[r("div",{attrs:{id:"right_title"}},[e._v("用户注册")]),r("div",{attrs:{id:"right_subtitle"}},[e._v("USER REGISTER")]),r("el-form",{ref:"regform",staticClass:"regform",attrs:{model:e.regform,"status-icon":"",rules:e.rules,"label-position":"top",size:"mini"}},[r("el-form-item",{attrs:{label:"学号/职工号",prop:"account"}},[r("el-input",{model:{value:e.regform.account,callback:function(t){e.$set(e.regform,"account",e._n(t))},expression:"regform.account"}})],1),r("el-row",{staticClass:"reg_row"},[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"reg_row_left",attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.regform.name,callback:function(t){e.$set(e.regform,"name",e._n(t))},expression:"regform.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"option",attrs:{label:"选择登录身份",required:""}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.regform.identity,callback:function(t){e.$set(e.regform,"identity",t)},expression:"regform.identity"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),r("el-row",{staticClass:"reg_row"},[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"reg_row_left",attrs:{label:"手机号",prop:"phone"}},[r("el-input",{model:{value:e.regform.phone,callback:function(t){e.$set(e.regform,"phone",e._n(t))},expression:"regform.phone"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"reg_row_right",attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.regform.email,callback:function(t){e.$set(e.regform,"email",t)},expression:"regform.email"}})],1)],1)],1),r("el-form-item",{attrs:{label:"密码",prop:"pass",required:""}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.regform.pass,callback:function(t){e.$set(e.regform,"pass",t)},expression:"regform.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass",required:""}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.regform.checkPass,callback:function(t){e.$set(e.regform,"checkPass",t)},expression:"regform.checkPass"}})],1),r("el-form-item",{staticClass:"btn_box"},[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("regform")}}},[e._v("确定注册")]),r("el-button",{staticClass:"btn",on:{click:function(t){return e.resetForm("regform")}}},[e._v("重置")])],1),r("router-link",{staticClass:"to_register",attrs:{to:"/login"}},[e._v("返回登录账号")])],1)],1)},w=[],k=(r("48fb"),{data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.regform.checkPass&&e.$refs.regform.validateField("checkPass"),a())},r=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.regform.pass?a(new Error("两次输入密码不一致!")):a()};return{regform:{account:"",name:"",identity:"student",phone:"",email:"",pass:"",checkPass:""},rules:{account:[{required:!0,message:"请输入内容",trigger:"blur"},{type:"number",message:"输入内容必须为数字",trigger:"blur"}],pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}],phone:[{required:!0,message:"请输入内容",trigger:"blur"},{pattern:/^[1][0-9]{10}$/,message:"手机号码必须为11纯数字",trigger:"blur"}],email:[{required:!0,message:"请输入内容",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],name:[{required:!0,message:"请输入内容",trigger:["blur","change"]},{pattern:/^[\u4E00-\u9FA5]{2,4}$/,message:"请正确输入中文姓名",trigger:["blur","change"]}]},options:[{value:"student",label:"学生"},{value:"teacher",label:"教师"},{value:"admin",label:"管理员"}]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.axios.post("commitReg",{account:t.regform.account.toString(),name:t.regform.name,identity:t.regform.identity,phone:t.regform.phone,email:t.regform.email,password:t.regform.pass}).then(function(e){1==e.data.code?(t.$message({message:"注册成功，请登录！",type:"success",center:!0}),t.$router.push({path:"/login"})):t.$message(e.data.msg)}).catch(function(e){console.log(e),t.$message("未知错误，请重试！")})})},resetForm:function(e){this.$refs[e].resetFields()}}}),x=k,$=(r("6ad1d"),r("3dc9"),Object(i["a"])(x,y,w,!1,null,"216ff591",null)),C=$.exports;a["default"].use(f["a"]);var O=new f["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:_},{path:"/register",name:"register",component:C}]}),E=O,P=(r("4c6e"),r("9720"),r("4f3c")),F=r.n(P),S=(r("a396"),r("a7c9")),j=r.n(S),q=(r("566b"),r("de1e")),M=r.n(q),R=(r("e419"),r("fc65")),T=r.n(R),I=(r("81b7"),r("0912")),N=r.n(I),U=(r("673e"),r("816e")),G=r.n(U),J=(r("5b85"),r("9158")),L=r.n(J),z=(r("ab85"),r("7ab8")),A=r.n(z),B=(r("25f9"),r("eb2d")),D=r.n(B);D.a.install=function(e){e.prototype.$message=D.a},a["default"].use(A.a),a["default"].use(L.a),a["default"].use(G.a),a["default"].use(N.a),a["default"].use(T.a),a["default"].use(M.a),a["default"].use(j.a),a["default"].use(F.a),a["default"].use(D.a);r("3b53");var H=r("7f43"),K=r.n(H),Q=r("d4d8"),V=r.n(Q),W=r("4430");a["default"].prototype.COMMON=W["a"],a["default"].use(V.a,K.a),K.a.defaults.baseURL=W["a"].host,new a["default"]({router:E,render:function(e){return e(u)}}).$mount("#app"),a["default"].config.productionTip=!1},a4b1:function(e,t,r){},a814:function(e,t,r){}});